# Refactor Manifest (Dual-Runtime Transitional)

Generated by:
- scripts/generate_refactor_manifest.sh

## Inventory Summary
- Rust FFI exports (#[no_mangle]): 809
- Rust extern \"C\" declarations/defs: 1092
- Rust unsafe blocks in mtproxy-ffi: 4220

Detailed inventories:
- docs/generated/no_mangle_inventory.txt
- docs/generated/extern_c_inventory.txt
- docs/generated/unsafe_inventory.txt
- docs/ffi_symbol_index.csv

## Rules Enforced
- No new C ABI exports in transitional period.
- New runtime behavior lands in mtproxy-core or mtproxy-bin only.
- mtproxy-ffi is adapter-only while dual-runtime support remains.

## Migration Wave Order
1. Network core (net/*, tcp-rpc client/server/common) [R3]
2. Bootstrap/util (common/*, engine/*) [R2]
3. Crypto residuals and protocol helpers [R3]

## Risk Labels
- R0: pure wrapper glue
- R1: stateful local logic
- R2: cross-thread/global mutable state
- R3: protocol/security-critical paths
